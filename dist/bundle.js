(()=>{const e=document.querySelector(".weather-image i"),n=document.querySelector(".search-box input"),t=document.querySelector(".search-box button"),o=document.querySelector(".weather"),c=document.querySelector(".error");async function i(n){try{c.style.display="none",o.style.display="none";const i=await async function(e){const n=`http://api.weatherapi.com/v1/current.json?key=34589fbcee9b461bb07142804250305&q=${e}&aqi=no`,t=await fetch(n);if(!t.ok)throw new Error("Город не найден");return await t.json()}(n);console.log(i);const a={city:(t=i).location.name,temperature:Math.round(t.current.temp_c),humidity:t.current.humidity,windSpeed:t.current.wind_kph,condition:t.current.condition.text.toLowerCase()};console.log(a),function(n){document.querySelector(".city").innerHTML=n.city,document.querySelector(".temp").innerHTML=`${n.temperature} &#8451`,document.querySelector(".humidity").innerHTML=`${n.humidity}%`,document.querySelector(".wind").innerHTML=`${n.windSpeed} km/h`,n.condition.includes("clear")?e.className="fa-solid fa-sun":n.condition.includes("rain")?e.className="fa-solid fa-cloud-rain":n.condition.includes("mist")?e.className="fa-solid fa-smog":n.condition.includes("drizzle")?e.className="fa-solid fa-cloud-rain":e.className="fa-solid fa-cloud",o.style.display="block",c.style.display="none"}(a)}catch(e){console.error(e.message),c.style.display="block",o.style.display="none"}var t}t.addEventListener("click",(async()=>{await i(n.value),n.value=""})),n.addEventListener("keydown",(async e=>{13===e.keyCode&&(await i(n.value),n.value="")}))})();